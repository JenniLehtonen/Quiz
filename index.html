<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv='X-UA-Compatible' content='IE-edge'>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css.css">
</head>
<body>
<div id="testi">

</div>
<button id="1" class="optionButton" >FirstOption</button>
<button id="2" class="optionButton" >SecondOption</button>
<button id="3" class="optionButton" >ThirdOption</button>
<button id="4" class="optionButton" >FourthOption</button>

  <button id="change" onclick="newQuestion()">New question</button>
  <script>

document.querySelectorAll("button").forEach(button => {  //kun painetaan vastausvaihtoehtoa, tutkitaan, onko vastaus oikein
  button.addEventListener('click', testi);
});

    //Question index kasvaa jokaisella vastauskerralla
    //Score kasvaa, jos vastataan oikein
  var score = 0;
  var questionIndex = 0;
    let quiz = [
  {
    "question": "What is the capital of Spain?",
    "answer": "Madrid",
    "options": {
			a: 'Madrid',
			b: 'Barcelona',
			c: 'Malaga',
      d: 'Toledo'
		}
  },
  {
    "question": "What is the capital of Switzerland?",
    "answer": "Bern",
    "options": {
			a: 'Bern',
			b: 'Zürich',
			c: 'Basel',
      d: 'Luzern'
		}
  },
  {
    "question": "What is the capital of The United States?",
    "answer": "Washington DC",
    "options": {
			a: 'New York',
			b: 'Washington DC',
			c: 'Los Angeles',
      d: 'Miami'
		}
  }
  ]
  var questions = [];
  var answers = [];
  var options = [];
  for (i = 0; i < quiz.length; i++) {
  questions.push(quiz[i].question);
  answers.push(quiz[i].answer);
  options.push(quiz[i].options);
}
console.log(quiz[0]);
console.log(questions[0]);
console.log(answers);
console.log(options);

document.getElementById("testi").innerHTML=questions[0];  //show the question

document.getElementById("1").innerHTML=options[0].a;  //show the options
document.getElementById("2").innerHTML=options[0].b;
document.getElementById("3").innerHTML=options[0].c;
document.getElementById("4").innerHTML=options[0].d;

function newQuestion(){ //tässä questionIndex kasvaa, kun painetaan vastausvaihtoehtoa --> kysymys vaihtuu
  questionIndex++;
  console.log("QuestionIndex: " + questionIndex);
  document.getElementById("testi").innerHTML=questions[questionIndex];

  document.getElementById("1").innerHTML=options[questionIndex].a;  
  document.getElementById("2").innerHTML=options[questionIndex].b;
  document.getElementById("3").innerHTML=options[questionIndex].c;
  document.getElementById("4").innerHTML=options[questionIndex].d;

}
function testi(e){
  console.log(answers[questionIndex])
  console.log(e.target.innerText);
  if (e.target.innerText == answers[questionIndex]){
    console.log("oikein");
    score++;
    console.log(score);
  } else{
    console.log("väärin");
  }
  //console.log("button teksti: " + e.target.innerHTML);
  console.log("tutkitaan, onko vastaus oikein");
}
  </script>
</body>
</html>
